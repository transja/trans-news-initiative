import{g as V,h as y,j as B,L as E,s as N,k as M}from"./CRlJX9sK.js";import{c as R,d as j,a as q,b as z}from"./Dw7hIQMp.js";import{i as D,n as G,a as K}from"./lLPNNXqF.js";import{c as P,s as U}from"./D25Eamnu.js";const h=Symbol("class");function X(s){if(y){var a=!1,r=()=>{if(!a){if(a=!0,s.hasAttribute("value")){var u=s.value;n(s,"value",null),s.value=u}if(s.hasAttribute("checked")){var o=s.checked;n(s,"checked",null),s.checked=o}}};s.__on_r=r,M(r),z()}}function Y(s,a){a?s.hasAttribute("selected")||s.setAttribute("selected",""):s.removeAttribute("selected")}function n(s,a,r,u){var o=s.__attributes??(s.__attributes={});y&&(o[a]=s.getAttribute(a),a==="src"||a==="srcset"||a==="href"&&s.nodeName==="LINK")||o[a]!==(o[a]=r)&&(a==="style"&&"__styles"in s&&(s.__styles={}),a==="loading"&&(s[E]=r),r==null?s.removeAttribute(a):typeof r!="string"&&$(s).includes(a)?s[a]=r:s.setAttribute(a,r))}function Z(s,a,r,u,o=!1,_=!1,F=!1){let g=y&&_;g&&N(!1);var c=a||{},A=s.tagName==="OPTION";for(var k in a)k in r||(r[k]=null);r.class?r.class=P(r.class):r[h]&&(r.class=null);var C=$(s),I=s.__attributes??(s.__attributes={});for(const i in r){let t=r[i];if(A&&i==="value"&&t==null){s.value=s.__value="",c[i]=t;continue}var p=c[i];if(!(t===p&&i!=="class")){c[i]=t;var b=i[0]+i[1];if(b!=="$$"){if(b==="on"){const e={},d="$$"+i;let f=i.slice(2);var v=K(f);if(D(f)&&(f=f.slice(0,-7),e.capture=!0),!v&&p){if(t!=null)continue;s.removeEventListener(f,c[d],e),c[d]=null}if(t!=null)if(v)s[`__${f}`]=t,j([f]);else{let S=function(T){c[i].call(this,T)};c[d]=R(f,s,S,e)}else v&&(s[`__${f}`]=void 0)}else if(i==="class"){var O=s.namespaceURI==="http://www.w3.org/1999/xhtml";U(s,O,t,u,a==null?void 0:a[h],r[h])}else if(i==="style"&&t!=null)s.style.cssText=t+"";else if(i==="autofocus")q(s,!!t);else if(!_&&(i==="__value"||i==="value"&&t!=null))s.value=s.__value=t;else if(i==="selected"&&A)Y(s,t);else{var l=i;o||(l=G(l));var w=l==="defaultValue"||l==="defaultChecked";if(t==null&&!_&&!w)if(I[i]=null,l==="value"||l==="checked"){let e=s;const d=a===void 0;if(l==="value"){let f=e.defaultValue;e.removeAttribute(l),e.defaultValue=f,e.value=e.__value=d?f:null}else{let f=e.defaultChecked;e.removeAttribute(l),e.defaultChecked=f,e.checked=d?f:!1}}else s.removeAttribute(i);else w||C.includes(l)&&(_||typeof t!="string")?s[l]=t:typeof t!="function"&&n(s,l,t)}i==="style"&&"__styles"in s&&(s.__styles={})}}}return g&&N(!0),c}var L=new Map;function $(s){var a=L.get(s.nodeName);if(a)return a;L.set(s.nodeName,a=[]);for(var r,u=s,o=Element.prototype;o!==u;){r=B(u);for(var _ in r)r[_].set&&a.push(_);u=V(u)}return a}export{Z as a,X as r,n as s};
